<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="domain">
  <class name="Contact" table="Contact_Table">
  	 <id name="id" type="long" column="contactId" >
   		<generator class="increment"/>
  	 </id>

     <property name="firstName" lazy="true">
     	<column name="FIRSTNAME" />
   	 </property>
  	 
  	 <property name="lastName" lazy="true">
    	<column name="LASTNAME"/>
  	 </property>
  	
  	 <property name="email" lazy="true">
    	<column name="EMAIL"/>
  	 </property>
  	  
  	 <set name="phones" inverse="true" table="PhoneNumber_Table">
	 	<key column="contactId" not-null="true"></key>
		<one-to-many class="PhoneNumber" />
	 </set>
	 
	 <!-- 0 ou  1 adrress-->
	 <many-to-one name="address" column="addressId" unique="true" not-null="false"/>
	 
	 <!-- Un contact appartient Ã  0, 1 ou n groupes -->
	<set name="groups" table="contact_group" cascade="all" optimistic-lock="false" lazy="false">
		<key column="contact_ID" not-null="true"></key>
		<many-to-many column="group_ID" class="Group"></many-to-many>
	</set>
	
	<set name="groups" table="ContactGroups" >
		<key column="contactId"/>
		<many-to-many class="ContactGroup" column="groupId" />
	</set>
	
	<subclass name="Entreprise" discriminator-value="entreprise">
		<property name="numSiret" type="string"></property>
	</subclass>
  </class>
</hibernate-mapping>